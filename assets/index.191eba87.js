const Dn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}};Dn();var ge,_,_r,yr,le,Et,vr,Ie={},br=[],Tn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function U(t,e){for(var r in e)t[r]=e[r];return t}function Sr(t){var e=t.parentNode;e&&e.removeChild(t)}function ee(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ge.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return he(t,o,n,i,null)}function he(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++_r:i};return i==null&&_.vnode!=null&&_.vnode(s),s}function En(){return{current:null}}function E(t){return t.children}function M(t,e){this.props=t,this.context=e}function te(t,e){if(e==null)return t.__?te(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?te(t):null}function wr(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return wr(t)}}function Ke(t){(!t.__d&&(t.__d=!0)&&le.push(t)&&!Pe.__r++||Et!==_.debounceRendering)&&((Et=_.debounceRendering)||setTimeout)(Pe)}function Pe(){for(var t;Pe.__r=le.length;)t=le.sort(function(e,r){return e.__v.__b-r.__v.__b}),le=[],t.some(function(e){var r,n,i,s,o,c;e.__d&&(o=(s=(r=e).__v).__e,(c=r.__P)&&(n=[],(i=U({},s)).__v=s.__v+1,gt(c,s,i,r.__n,c.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?te(s):o,s.__h),Er(n,s),s.__e!=o&&wr(s)))})}function Or(t,e,r,n,i,s,o,c,u,l){var a,g,h,d,f,y,m,S=n&&n.__k||br,w=S.length;for(r.__k=[],a=0;a<e.length;a++)if((d=r.__k[a]=(d=e[a])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?he(null,d,null,null,d):Array.isArray(d)?he(E,{children:d},null,null,null):d.__b>0?he(d.type,d.props,d.key,null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(h=S[a])===null||h&&d.key==h.key&&d.type===h.type)S[a]=void 0;else for(g=0;g<w;g++){if((h=S[g])&&d.key==h.key&&d.type===h.type){S[g]=void 0;break}h=null}gt(t,d,h=h||Ie,i,s,o,c,u,l),f=d.__e,(g=d.ref)&&h.ref!=g&&(m||(m=[]),h.ref&&m.push(h.ref,null,d),m.push(g,d.__c||f,d)),f!=null?(y==null&&(y=f),typeof d.type=="function"&&d.__k===h.__k?d.__d=u=Dr(d,u,t):u=Tr(t,d,h,S,f,u),typeof r.type=="function"&&(r.__d=u)):u&&h.__e==u&&u.parentNode!=t&&(u=te(h))}for(r.__e=y,a=w;a--;)S[a]!=null&&(typeof r.type=="function"&&S[a].__e!=null&&S[a].__e==r.__d&&(r.__d=te(n,a+1)),Ir(S[a],S[a]));if(m)for(a=0;a<m.length;a++)Cr(m[a],m[++a],m[++a])}function Dr(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Dr(n,e,r):Tr(r,n,n,i,n.__e,e));return e}function fe(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){fe(r,e)}):e.push(t)),e}function Tr(t,e,r,n,i,s){var o,c,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(c=s,u=0;(c=c.nextSibling)&&u<n.length;u+=2)if(c==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Cn(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||xe(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||xe(t,s,e[s],r[s],n)}function Ct(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||Tn.test(e)?r:r+"px"}function xe(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ct(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Ct(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Pt:It,s):t.removeEventListener(e,s?Pt:It,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function It(t){this.l[t.type+!1](_.event?_.event(t):t)}function Pt(t){this.l[t.type+!0](_.event?_.event(t):t)}function gt(t,e,r,n,i,s,o,c,u){var l,a,g,h,d,f,y,m,S,w,I,z,K,T=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,c=e.__e=r.__e,e.__h=null,s=[c]),(l=_.__b)&&l(e);try{e:if(typeof T=="function"){if(m=e.props,S=(l=T.contextType)&&n[l.__c],w=l?S?S.props.value:l.__:n,r.__c?y=(a=e.__c=r.__c).__=a.__E:("prototype"in T&&T.prototype.render?e.__c=a=new T(m,w):(e.__c=a=new M(m,w),a.constructor=T,a.render=Pn),S&&S.sub(a),a.props=m,a.state||(a.state={}),a.context=w,a.__n=n,g=a.__d=!0,a.__h=[]),a.__s==null&&(a.__s=a.state),T.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=U({},a.__s)),U(a.__s,T.getDerivedStateFromProps(m,a.__s))),h=a.props,d=a.state,g)T.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(T.getDerivedStateFromProps==null&&m!==h&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(m,w),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(m,a.__s,w)===!1||e.__v===r.__v){a.props=m,a.state=a.__s,e.__v!==r.__v&&(a.__d=!1),a.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(_e){_e&&(_e.__=e)}),a.__h.length&&o.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(m,a.__s,w),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(h,d,f)})}if(a.context=w,a.props=m,a.__v=e,a.__P=t,I=_.__r,z=0,"prototype"in T&&T.prototype.render)a.state=a.__s,a.__d=!1,I&&I(e),l=a.render(a.props,a.state,a.context);else do a.__d=!1,I&&I(e),l=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++z<25);a.state=a.__s,a.getChildContext!=null&&(n=U(U({},n),a.getChildContext())),g||a.getSnapshotBeforeUpdate==null||(f=a.getSnapshotBeforeUpdate(h,d)),K=l!=null&&l.type===E&&l.key==null?l.props.children:l,Or(t,Array.isArray(K)?K:[K],e,r,n,i,s,o,c,u),a.base=e.__e,e.__h=null,a.__h.length&&o.push(a),y&&(a.__E=a.__=null),a.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=In(r.__e,e,r,n,i,s,o,u);(l=_.diffed)&&l(e)}catch(_e){e.__v=null,(u||s!=null)&&(e.__e=c,e.__h=!!u,s[s.indexOf(c)]=null),_.__e(_e,e,r)}}function Er(t,e){_.__c&&_.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){_.__e(n,r.__v)}})}function In(t,e,r,n,i,s,o,c){var u,l,a,g=r.props,h=e.props,d=e.type,f=0;if(d==="svg"&&(i=!0),s!=null){for(;f<s.length;f++)if((u=s[f])&&"setAttribute"in u==!!d&&(d?u.localName===d:u.nodeType===3)){t=u,s[f]=null;break}}if(t==null){if(d===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),s=null,c=!1}if(d===null)g===h||c&&t.data===h||(t.data=h);else{if(s=s&&ge.call(t.childNodes),l=(g=r.props||Ie).dangerouslySetInnerHTML,a=h.dangerouslySetInnerHTML,!c){if(s!=null)for(g={},f=0;f<t.attributes.length;f++)g[t.attributes[f].name]=t.attributes[f].value;(a||l)&&(a&&(l&&a.__html==l.__html||a.__html===t.innerHTML)||(t.innerHTML=a&&a.__html||""))}if(Cn(t,h,g,i,c),a)e.__k=[];else if(f=e.props.children,Or(t,Array.isArray(f)?f:[f],e,r,n,i&&d!=="foreignObject",s,o,s?s[0]:r.__k&&te(r,0),c),s!=null)for(f=s.length;f--;)s[f]!=null&&Sr(s[f]);c||("value"in h&&(f=h.value)!==void 0&&(f!==t.value||d==="progress"&&!f||d==="option"&&f!==g.value)&&xe(t,"value",f,g.value,!1),"checked"in h&&(f=h.checked)!==void 0&&f!==t.checked&&xe(t,"checked",f,g.checked,!1))}return t}function Cr(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){_.__e(n,r)}}function Ir(t,e,r){var n,i;if(_.unmount&&_.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Cr(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){_.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Ir(n[i],e,typeof t.type!="function");r||t.__e==null||Sr(t.__e),t.__e=t.__d=void 0}function Pn(t,e,r){return this.constructor(t,r)}function mt(t,e,r){var n,i,s;_.__&&_.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],gt(e,t=(!n&&r||e).__k=ee(E,null,[t]),i||Ie,Ie,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?ge.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Er(s,t)}function Pr(t,e){mt(t,e,Pr)}function xr(t,e,r){var n,i,s,o=U({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?ge.call(arguments,2):r),he(t.type,o,n||t.key,i||t.ref,null)}function Ar(t,e){var r={__c:e="__cC"+vr++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(Ke)},this.sub=function(o){i.push(o);var c=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),c&&c.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}ge=br.slice,_={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(c){t=c}throw t}},_r=0,yr=function(t){return t!=null&&t.constructor===void 0},M.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=U({},this.state),typeof t=="function"&&(t=t(U({},r),this.props)),t&&U(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Ke(this))},M.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ke(this))},M.prototype.render=E,le=[],Pe.__r=0,vr=0;const xn=Object.freeze(Object.defineProperty({__proto__:null,render:mt,hydrate:Pr,createElement:ee,h:ee,Fragment:E,createRef:En,get isValidElement(){return yr},Component:M,cloneElement:xr,createContext:Ar,toChildArray:fe,get options(){return _}},Symbol.toStringTag,{value:"Module"}));function An(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}const Nn=An(xn);var Nr,Y,xt=Nn;function $e(t,e){for(var r in e)t[r]=e[r];return t}function At(t){this.getChildContext=function(){return{store:t.store}}}At.prototype.render=function(t){return t.children&&t.children[0]||t.children},Y=function(t,e){var r;return typeof t!="function"&&(typeof(r=t||{})=="string"&&(r=r.split(/\s*,\s*/)),t=function(n){for(var i={},s=0;s<r.length;s++)i[r[s]]=n[r[s]];return i}),function(n){function i(s,o){var c=this,u=o.store,l=t(u?u.getState():{},s),a=e?function(h,d){typeof h=="function"&&(h=h(d));var f={};for(var y in h)f[y]=d.action(h[y]);return f}(e,u):{store:u},g=function(){var h=t(u?u.getState():{},s);for(var d in h)if(h[d]!==l[d])return l=h,c.setState({});for(var f in l)if(!(f in h))return l=h,c.setState({})};this.componentWillReceiveProps=function(h){s=h,g()},this.componentDidMount=function(){u.subscribe(g)},this.componentWillUnmount=function(){u.unsubscribe(g)},this.render=function(h){return xt.h(n,$e($e($e({},a),h),l))}}return(i.prototype=new xt.Component).constructor=i}},Nr=At;function Nt(t,e){for(var r in e)t[r]=e[r];return t}function kn(t){var e=[];function r(i){for(var s=[],o=0;o<e.length;o++)e[o]===i?i=null:s.push(e[o]);e=s}function n(i,s,o){t=s?i:Nt(Nt({},t),i);for(var c=e,u=0;u<c.length;u++)c[u](t,o)}return t=t||{},{action:function(i){function s(o){n(o,!1,i)}return function(){for(var o=arguments,c=[t],u=0;u<arguments.length;u++)c.push(o[u]);var l=i.apply(this,c);if(l!=null)return l.then?l.then(s):s(l)}},setState:n,subscribe:function(i){return e.push(i),function(){r(i)}},unsubscribe:r,getState:function(){return t}}}const Rn=kn({room:"room1",socket:null}),ie=t=>({setRoom:({room:e},r)=>({room:r}),setSocket:({socket:e},r)=>({socket:r})});var se,D,qe,kt,pe=0,kr=[],we=[],Rt=_.__b,Lt=_.__r,Mt=_.diffed,Bt=_.__c,Ht=_.unmount;function me(t,e){_.__h&&_.__h(D,t,pe||e),pe=0;var r=D.__H||(D.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:we}),r.__[t]}function R(t){return pe=1,Rr(Lr,t)}function Rr(t,e,r){var n=me(se++,2);return n.t=t,n.__c||(n.__=[r?r(e):Lr(void 0,e),function(i){var s=n.t(n.__[0],i);n.__[0]!==s&&(n.__=[s,n.__[1]],n.__c.setState({}))}],n.__c=D),n.__}function $(t,e){var r=me(se++,3);!_.__s&&_t(r.__H,e)&&(r.__=t,r.u=e,D.__H.__h.push(r))}function Ln(t,e){var r=me(se++,4);!_.__s&&_t(r.__H,e)&&(r.__=t,r.u=e,D.__h.push(r))}function Mn(t){return pe=5,C(function(){return{current:t}},[])}function C(t,e){var r=me(se++,7);return _t(r.__H,e)?(r.__V=t(),r.u=e,r.__h=t,r.__V):r.__}function Bn(t,e){return pe=8,C(function(){return t},e)}function Hn(t){var e=D.context[t.__c],r=me(se++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(D)),e.props.value):t.__}function Un(){for(var t;t=kr.shift();)if(t.__P)try{t.__H.__h.forEach(Oe),t.__H.__h.forEach(Qe),t.__H.__h=[]}catch(e){t.__H.__h=[],_.__e(e,t.__v)}}_.__b=function(t){D=null,Rt&&Rt(t)},_.__r=function(t){Lt&&Lt(t),se=0;var e=(D=t.__c).__H;e&&(qe===D?(e.__h=[],D.__h=[],e.__.forEach(function(r){r.__V=we,r.u=void 0})):(e.__h.forEach(Oe),e.__h.forEach(Qe),e.__h=[])),qe=D},_.diffed=function(t){Mt&&Mt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(kr.push(e)!==1&&kt===_.requestAnimationFrame||((kt=_.requestAnimationFrame)||function(r){var n,i=function(){clearTimeout(s),Ut&&cancelAnimationFrame(n),setTimeout(r)},s=setTimeout(i,100);Ut&&(n=requestAnimationFrame(i))})(Un)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.__V!==we&&(r.__=r.__V),r.u=void 0,r.__V=we})),qe=D=null},_.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Oe),r.__h=r.__h.filter(function(n){return!n.__||Qe(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],_.__e(n,r.__v)}}),Bt&&Bt(t,e)},_.unmount=function(t){Ht&&Ht(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Oe(n)}catch(i){e=i}}),e&&_.__e(e,r.__v))};var Ut=typeof requestAnimationFrame=="function";function Oe(t){var e=D,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),D=e}function Qe(t){var e=D;t.__c=t.__(),D=e}function _t(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Lr(t,e){return typeof e=="function"?e(t):e}function $n(t,e){for(var r in e)t[r]=e[r];return t}function Je(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function $t(t){this.props=t}function qn(t,e){function r(i){var s=this.props.ref,o=s==i.ref;return!o&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!o:Je(this.props,i)}function n(i){return this.shouldComponentUpdate=r,ee(t,i)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}($t.prototype=new M).isPureReactComponent=!0,$t.prototype.shouldComponentUpdate=function(t,e){return Je(this.props,t)||Je(this.state,e)};var qt=_.__b;_.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),qt&&qt(t)};var Fn=_.__e;_.__e=function(t,e,r,n){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}Fn(t,e,r,n)};var Ft=_.unmount;function Fe(){this.__u=0,this.t=null,this.__b=null}function Mr(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ye(){this.u=null,this.o=null}_.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ft&&Ft(t)},(Fe.prototype=new M).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=Mr(n.__v),s=!1,o=function(){s||(s=!0,r.__R=null,i?i(c):c())};r.__R=o;var c=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=function g(h,d,f){return h&&(h.__v=null,h.__k=h.__k&&h.__k.map(function(y){return g(y,d,f)}),h.__c&&h.__c.__P===d&&(h.__e&&f.insertBefore(h.__e,h.__d),h.__c.__e=!0,h.__c.__P=f)),h}(l,l.__c.__P,l.__c.__O)}var a;for(n.setState({__a:n.__b=null});a=n.t.pop();)a.forceUpdate()}},u=e.__h===!0;n.__u++||u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},Fe.prototype.componentWillUnmount=function(){this.t=[]},Fe.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function s(o,c,u){return o&&(o.__c&&o.__c.__H&&(o.__c.__H.__.forEach(function(l){typeof l.__c=="function"&&l.__c()}),o.__c.__H=null),(o=$n({},o)).__c!=null&&(o.__c.__P===u&&(o.__c.__P=c),o.__c=null),o.__k=o.__k&&o.__k.map(function(l){return s(l,c,u)})),o}(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&ee(E,null,t.fallback);return i&&(i.__h=null),[ee(E,null,e.__a?null:t.children),i]};var Wt=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};(ye.prototype=new M).__a=function(t){var e=this,r=Mr(e.__v),n=e.o.get(t);return n[0]++,function(i){var s=function(){e.props.revealOrder?(n.push(i),Wt(e,t,n)):i()};r?r(s):s()}},ye.prototype.render=function(t){this.u=null,this.o=new Map;var e=fe(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},ye.prototype.componentDidUpdate=ye.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){Wt(t,r,e)})};var Br=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Wn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Vn=typeof document<"u",jn=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};M.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(M.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Vt=_.event;function Gn(){}function Yn(){return this.cancelBubble}function Xn(){return this.defaultPrevented}_.event=function(t){return Vt&&(t=Vt(t)),t.persist=Gn,t.isPropagationStopped=Yn,t.isDefaultPrevented=Xn,t.nativeEvent=t};var jt={configurable:!0,get:function(){return this.class}},Gt=_.vnode;_.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in n={},r){var o=r[s];Vn&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in r&&o==null||(s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!jn(r.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&Wn.test(s)?s=s.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),n[s]&&(s="oninputCapture")),n[s]=o)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=fe(r.children).forEach(function(c){c.props.selected=n.value.indexOf(c.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=fe(r.children).forEach(function(c){c.props.selected=n.multiple?n.defaultValue.indexOf(c.props.value)!=-1:n.defaultValue==c.props.value})),t.props=n,r.class!=r.className&&(jt.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",jt))}t.$$typeof=Br,Gt&&Gt(t)};var Yt=_.__r;_.__r=function(t){Yt&&Yt(t),t.__c};function Hr(t){return!!t&&t.$$typeof===Br}function Xt(t){return Hr(t)?xr.apply(null,arguments):t}const Ur=new Set,x=new WeakMap,Z=new WeakMap,j=new WeakMap,Ze=new WeakMap,zn=new WeakMap,re=new WeakMap,Ae=new WeakMap;let W;const V="__aa_tgt",et="__aa_del",Kn=t=>{const e=ti(t);e&&e.forEach(r=>ri(r))},Qn=t=>{t.forEach(e=>{e.target===W&&Zn(),x.has(e.target)&&X(e.target)})};function Jn(t){const e=Ze.get(t);e==null||e.disconnect();let r=x.get(t),n=0;const i=5;r||(r=ne(t),x.set(t,r));const{offsetWidth:s,offsetHeight:o}=W,u=[r.top-i,s-(r.left+i+r.width),o-(r.top+i+r.height),r.left-i].map(a=>`${-1*Math.floor(a)}px`).join(" "),l=new IntersectionObserver(()=>{++n>1&&X(t)},{root:W,threshold:1,rootMargin:u});l.observe(t),Ze.set(t,l)}function X(t){clearTimeout(Ae.get(t));const e=ke(t),r=typeof e=="function"?500:e.duration;Ae.set(t,setTimeout(()=>{const n=j.get(t);(!n||n.finished)&&(x.set(t,ne(t)),Jn(t))},r))}function Zn(){clearTimeout(Ae.get(W)),Ae.set(W,setTimeout(()=>{Ur.forEach(t=>Fr(t,e=>$r(()=>X(e))))},100))}function ei(t){setTimeout(()=>{zn.set(t,setInterval(()=>$r(X.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function $r(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let tt,J;typeof window<"u"&&(W=document.documentElement,tt=new MutationObserver(Kn),J=new ResizeObserver(Qn),J.observe(W));function ti(t){return t.reduce((e,r)=>{if(e===!1)return!1;if(r.target instanceof Element){if(We(r.target),!e.has(r.target)){e.add(r.target);for(let n=0;n<r.target.children.length;n++){const i=r.target.children.item(n);if(!!i){if(et in i)return!1;We(r.target,i),e.add(i)}}}if(r.removedNodes.length)for(let n=0;n<r.removedNodes.length;n++){const i=r.removedNodes[n];if(et in i)return!1;i instanceof Element&&(e.add(i),We(r.target,i),Z.set(i,[r.previousSibling,r.nextSibling]))}}return e},new Set)}function We(t,e){!e&&!(V in t)?Object.defineProperty(t,V,{value:t}):e&&!(V in e)&&Object.defineProperty(e,V,{value:t})}function ri(t){var e;const r=W.contains(t),n=x.has(t);r&&Z.has(t)&&Z.delete(t),j.has(t)&&((e=j.get(t))===null||e===void 0||e.cancel()),n&&r?ni(t):n&&!r?si(t):ii(t)}function L(t){return Number(t.replace(/[^0-9.\-]/g,""))}function ne(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function qr(t,e,r){let n=e.width,i=e.height,s=r.width,o=r.height;const c=getComputedStyle(t);if(c.getPropertyValue("box-sizing")==="content-box"){const l=L(c.paddingTop)+L(c.paddingBottom)+L(c.borderTopWidth)+L(c.borderBottomWidth),a=L(c.paddingLeft)+L(c.paddingRight)+L(c.borderRightWidth)+L(c.borderLeftWidth);n-=a,s-=a,i-=l,o-=l}return[n,s,i,o].map(Math.round)}function ke(t){return V in t&&re.has(t[V])?re.get(t[V]):{duration:250,easing:"ease-in-out"}}function Fr(t,...e){e.forEach(r=>r(t,re.has(t)));for(let r=0;r<t.children.length;r++){const n=t.children.item(r);n&&e.forEach(i=>i(n,re.has(n)))}}function ni(t){const e=x.get(t),r=ne(t);let n;if(!e)return;const i=ke(t);if(typeof i!="function"){const s=e.left-r.left,o=e.top-r.top,[c,u,l,a]=qr(t,e,r),g={transform:`translate(${s}px, ${o}px)`},h={transform:"translate(0, 0)"};c!==u&&(g.width=`${c}px`,h.width=`${u}px`),l!==a&&(g.height=`${l}px`,h.height=`${a}px`),n=t.animate([g,h],i)}else n=new Animation(i(t,"remain",e,r)),n.play();j.set(t,n),x.set(t,r),n.addEventListener("finish",X.bind(null,t))}function ii(t){const e=ne(t);x.set(t,e);const r=ke(t);let n;typeof r!="function"?n=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"}):(n=new Animation(r(t,"add",e)),n.play()),j.set(t,n),n.addEventListener("finish",X.bind(null,t))}function si(t){if(!Z.has(t)||!x.has(t))return;const[e,r]=Z.get(t);Object.defineProperty(t,et,{value:!0}),r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(t,r):e&&e.parentNode&&e.parentNode.appendChild(t);const[n,i,s,o]=oi(t),c=ke(t),u=x.get(t);let l;Object.assign(t.style,{position:"absolute",top:`${n}px`,left:`${i}px`,width:`${s}px`,height:`${o}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof c!="function"?l=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:c.duration,easing:"ease-out"}):(l=new Animation(c(t,"remove",u)),l.play()),j.set(t,l),l.addEventListener("finish",()=>{var a;t.remove(),x.delete(t),Z.delete(t),j.delete(t),(a=Ze.get(t))===null||a===void 0||a.disconnect()})}function oi(t){const e=x.get(t),[r,,n]=qr(t,e,ne(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),o=x.get(i)||ne(i),c=Math.round(e.top-o.top)-L(s.borderTopWidth),u=Math.round(e.left-o.left)-L(s.borderLeftWidth);return[c,u,r,n]}function ai(t,e={}){if(tt&&J){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),Fr(t,X,ei,n=>J==null?void 0:J.observe(n)),typeof e=="function"?re.set(t,e):re.set(t,{duration:250,easing:"ease-in-out",...e}),tt.observe(t,{childList:!0}),Ur.add(t)}}function ci(t={}){const e=Mn(null);return $(()=>{e.current instanceof HTMLElement&&ai(e.current,t)},[e]),[e]}const Wr=Ar({dragDropManager:void 0});var ui=0;function p(t,e,r,n,i){var s,o,c={};for(o in e)o=="ref"?s=e[o]:c[o]=e[o];var u={type:t,props:c,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ui,__source:i,__self:n};if(typeof t=="function"&&(s=t.defaultProps))for(o in s)c[o]===void 0&&(c[o]=s[o]);return _.vnode&&_.vnode(u),u}function A(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var zt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ve=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kt={INIT:"@@redux/INIT"+Ve(),REPLACE:"@@redux/REPLACE"+Ve(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ve()}};function li(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Vr(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(A(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(A(1));return r(Vr)(t,e)}if(typeof t!="function")throw new Error(A(2));var i=t,s=e,o=[],c=o,u=!1;function l(){c===o&&(c=o.slice())}function a(){if(u)throw new Error(A(3));return s}function g(y){if(typeof y!="function")throw new Error(A(4));if(u)throw new Error(A(5));var m=!0;return l(),c.push(y),function(){if(!!m){if(u)throw new Error(A(6));m=!1,l();var w=c.indexOf(y);c.splice(w,1),o=null}}}function h(y){if(!li(y))throw new Error(A(7));if(typeof y.type>"u")throw new Error(A(8));if(u)throw new Error(A(9));try{u=!0,s=i(s,y)}finally{u=!1}for(var m=o=c,S=0;S<m.length;S++){var w=m[S];w()}return y}function d(y){if(typeof y!="function")throw new Error(A(10));i=y,h({type:Kt.REPLACE})}function f(){var y,m=g;return y={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(A(11));function I(){w.next&&w.next(a())}I();var z=m(I);return{unsubscribe:z}}},y[zt]=function(){return this},y}return h({type:Kt.INIT}),n={dispatch:h,subscribe:g,getState:a,replaceReducer:d},n[zt]=f,n}function v(t,e,...r){if(hi()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function hi(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function di(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function fi(t,e){return t.filter(r=>r!==e)}function jr(t){return typeof t=="object"}function pi(t,e){const r=new Map,n=s=>{r.set(s,r.has(s)?r.get(s)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((s,o)=>{s===1&&i.push(o)}),i}function gi(t,e){return t.filter(r=>e.indexOf(r)>-1)}const yt="dnd-core/INIT_COORDS",Re="dnd-core/BEGIN_DRAG",vt="dnd-core/PUBLISH_DRAG_SOURCE",Le="dnd-core/HOVER",Me="dnd-core/DROP",Be="dnd-core/END_DRAG";function Qt(t,e){return{type:yt,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const mi={type:yt,payload:{clientOffset:null,sourceClientOffset:null}};function _i(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=n,c=t.getMonitor(),u=t.getRegistry();t.dispatch(Qt(s)),yi(r,c,u);const l=Si(r,c);if(l==null){t.dispatch(mi);return}let a=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");vi(o),a=o(l)}t.dispatch(Qt(s,a));const h=u.getSource(l).beginDrag(c,l);if(h==null)return;bi(h),u.pinSource(l);const d=u.getSourceType(l);return{type:Re,payload:{itemType:d,item:h,sourceId:l,clientOffset:s||null,sourceClientOffset:a||null,isSourcePublic:!!i}}}}function yi(t,e,r){v(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){v(r.getSource(n),"Expected sourceIds to be registered.")})}function vi(t){v(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function bi(t){v(jr(t),"Item must be an object.")}function Si(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function wi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){wi(t,i,r[i])})}return t}function Di(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Ti(n),Ii(n).forEach((o,c)=>{const u=Ei(o,c,i,n),l={type:Me,payload:{dropResult:Oi({},r,u)}};t.dispatch(l)})}}function Ti(t){v(t.isDragging(),"Cannot call drop while not dragging."),v(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Ei(t,e,r,n){const i=r.getTarget(t);let s=i?i.drop(n,t):void 0;return Ci(s),typeof s>"u"&&(s=e===0?{}:n.getDropResult()),s}function Ci(t){v(typeof t>"u"||jr(t),"Drop result must either be an object or undefined.")}function Ii(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Pi(t){return function(){const r=t.getMonitor(),n=t.getRegistry();xi(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:Be}}}function xi(t){v(t.isDragging(),"Cannot call endDrag while not dragging.")}function rt(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function Ai(t){return function(r,{clientOffset:n}={}){Ni(r);const i=r.slice(0),s=t.getMonitor(),o=t.getRegistry(),c=s.getItemType();return Ri(i,o,c),ki(i,s,o),Li(i,s,o),{type:Le,payload:{targetIds:i,clientOffset:n||null}}}}function Ni(t){v(Array.isArray(t),"Expected targetIds to be an array.")}function ki(t,e,r){v(e.isDragging(),"Cannot call hover while not dragging."),v(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];v(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const s=r.getTarget(i);v(s,"Expected targetIds to be registered.")}}function Ri(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],s=e.getTargetType(i);rt(s,r)||t.splice(n,1)}}function Li(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Mi(t){return function(){if(t.getMonitor().isDragging())return{type:vt}}}function Bi(t){return{beginDrag:_i(t),publishDragSource:Mi(t),hover:Ai(t),drop:Di(t),endDrag:Pi(t)}}class Hi{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(s){return(...o)=>{const c=s.apply(e,o);typeof c<"u"&&r(c)}}const i=Bi(this);return Object.keys(i).reduce((s,o)=>{const c=i[o];return s[o]=n(c),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Ui(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Gr(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $i(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Gr(Ui(e,n),r)}function qi(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Gr(e,r)}const de=[],bt=[];de.__IS_NONE__=!0;bt.__IS_ALL__=!0;function Fi(t,e){return t===de?!1:t===bt||typeof e>"u"?!0:gi(e,t).length>0}class Wi{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;v(typeof e=="function","listener must be a function."),v(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),c=o.stateId;try{c===i||c===i+1&&!Fi(o.dirtyHandlerIds,n)||e()}finally{i=c}};return this.store.subscribe(s)}subscribeToOffsetChange(e){v(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return v(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(v(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return rt(n,i)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(v(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!rt(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const c=o.indexOf(e);return n?c===o.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return $i(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return qi(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Jt=typeof global<"u"?global:self,Yr=Jt.MutationObserver||Jt.WebKitMutationObserver;function Xr(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function Vi(t){let e=1;const r=new Yr(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const ji=typeof Yr=="function"?Vi:Xr;class Gi{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ji(this.flush),this.requestErrorThrow=Xr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Yi{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Xi{create(e){const r=this.freeTasks,n=r.length?r.pop():new Yi(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const zr=new Gi,zi=new Xi(zr.registerPendingError);function Ki(t){zr.enqueueTask(zi.create(t))}const St="dnd-core/ADD_SOURCE",wt="dnd-core/ADD_TARGET",Ot="dnd-core/REMOVE_SOURCE",He="dnd-core/REMOVE_TARGET";function Qi(t){return{type:St,payload:{sourceId:t}}}function Ji(t){return{type:wt,payload:{targetId:t}}}function Zi(t){return{type:Ot,payload:{sourceId:t}}}function es(t){return{type:He,payload:{targetId:t}}}function ts(t){v(typeof t.canDrag=="function","Expected canDrag to be a function."),v(typeof t.beginDrag=="function","Expected beginDrag to be a function."),v(typeof t.endDrag=="function","Expected endDrag to be a function.")}function rs(t){v(typeof t.canDrop=="function","Expected canDrop to be a function."),v(typeof t.hover=="function","Expected hover to be a function."),v(typeof t.drop=="function","Expected beginDrag to be a function.")}function nt(t,e){if(e&&Array.isArray(t)){t.forEach(r=>nt(r,!1));return}v(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var N;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(N||(N={}));let ns=0;function is(){return ns++}function ss(t){const e=is().toString();switch(t){case N.SOURCE:return`S${e}`;case N.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Zt(t){switch(t[0]){case"S":return N.SOURCE;case"T":return N.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function er(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,s]}=r.next();if(s===e)return!0;n=!!i}while(!n);return!1}class os{addSource(e,r){nt(e),ts(r);const n=this.addHandler(N.SOURCE,e,r);return this.store.dispatch(Qi(n)),n}addTarget(e,r){nt(e,!0),rs(r);const n=this.addHandler(N.TARGET,e,r);return this.store.dispatch(Ji(n)),n}containsHandler(e){return er(this.dragSources,e)||er(this.dropTargets,e)}getSource(e,r=!1){return v(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return v(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return v(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return v(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Zt(e)===N.SOURCE}isTargetId(e){return Zt(e)===N.TARGET}removeSource(e){v(this.getSource(e),"Expected an existing source."),this.store.dispatch(Zi(e)),Ki(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){v(this.getTarget(e),"Expected an existing target."),this.store.dispatch(es(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);v(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){v(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=ss(e);return this.types.set(i,r),e===N.SOURCE?this.dragSources.set(i,n):e===N.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const as=(t,e)=>t===e;function cs(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function us(t,e,r=as){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function ls(t=de,e){switch(e.type){case Le:break;case St:case wt:case He:case Ot:return de;case Re:case vt:case Be:case Me:default:return bt}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=pi(r,n);if(!(i.length>0||!us(r,n)))return de;const o=n[n.length-1],c=r[r.length-1];return o!==c&&(o&&i.push(o),c&&i.push(c)),i}function hs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){hs(t,i,r[i])})}return t}const tr={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function fs(t=tr,e){const{payload:r}=e;switch(e.type){case yt:case Re:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Le:return cs(t.clientOffset,r.clientOffset)?t:ds({},t,{clientOffset:r.clientOffset});case Be:case Me:return tr;default:return t}}function ps(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ps(t,i,r[i])})}return t}const gs={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ms(t=gs,e){const{payload:r}=e;switch(e.type){case Re:return Q({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case vt:return Q({},t,{isSourcePublic:!0});case Le:return Q({},t,{targetIds:r.targetIds});case He:return t.targetIds.indexOf(r.targetId)===-1?t:Q({},t,{targetIds:fi(t.targetIds,r.targetId)});case Me:return Q({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Be:return Q({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function _s(t=0,e){switch(e.type){case St:case wt:return t+1;case Ot:case He:return t-1;default:return t}}function ys(t=0){return t+1}function vs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){vs(t,i,r[i])})}return t}function Ss(t={},e){return{dirtyHandlerIds:ls(t.dirtyHandlerIds,{type:e.type,payload:bs({},e.payload,{prevTargetIds:di(t,"dragOperation.targetIds",[])})}),dragOffset:fs(t.dragOffset,e),refCount:_s(t.refCount,e),dragOperation:ms(t.dragOperation,e),stateId:ys(t.stateId)}}function ws(t,e=void 0,r={},n=!1){const i=Os(n),s=new Wi(i,new os(i)),o=new Hi(i,s),c=t(o,e,r);return o.receiveBackend(c),o}function Os(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Vr(Ss,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Ds(t,e){if(t==null)return{};var r=Ts(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function Ts(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let rr=0;const De=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Es=qn(function(e){var{children:r}=e,n=Ds(e,["children"]);const[i,s]=Cs(n);return $(()=>{if(s){const o=Kr();return++rr,()=>{--rr===0&&(o[De]=null)}}},[]),p(Wr.Provider,{value:i,children:r})});function Cs(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Is(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Is(t,e=Kr(),r,n){const i=e;return i[De]||(i[De]={dragDropManager:ws(t,e,r,n)}),i[De]}function Kr(){return typeof global<"u"?global:window}var Ps=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r};const G=typeof window<"u"?Ln:$;function xs(t,e,r){const[n,i]=R(()=>e(t)),s=Bn(()=>{const o=e(t);Ps(n,o)||(i(o),r&&r())},[n,t,r]);return G(s),[n,s]}function As(t,e,r){const[n,i]=xs(t,e,r);return G(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(i,{handlerIds:[o]})},[t,i]),n}function Qr(t,e,r){return As(e,t||(()=>({})),()=>r.reconnect())}function Jr(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),C(()=>typeof t=="function"?t():t,r)}function Ns(t){return C(()=>t.hooks.dragSource(),[t])}function ks(t){return C(()=>t.hooks.dragPreview(),[t])}let je=!1,Ge=!1;class Rs{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){v(!je,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return je=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{je=!1}}isDragging(){if(!this.sourceId)return!1;v(!Ge,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ge=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ge=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Ye=!1;class Ls{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;v(!Ye,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ye=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ye=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Ms(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function Bs(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function it(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<s.length;u++){const l=s[u];if(!c(l))return!1;const a=t[l],g=e[l];if(i=r?r.call(n,a,g,l):void 0,i===!1||i===void 0&&a!==g)return!1}return!0}function st(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hs(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Us(t){return(e=null,r=null)=>{if(!Hr(e)){const s=e;return t(s,r),s}const n=e;return Hs(n),$s(n,r?s=>t(s,r):t)}}function Zr(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=Us(n);e[r]=()=>i}}),e}function nr(t,e){typeof t=="function"?t(e):t.current=e}function $s(t,e){const r=t.ref;return v(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?Xt(t,{ref:n=>{nr(r,n),nr(e,n)}}):Xt(t,{ref:e})}class qs{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!it(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!it(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Zr({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,st(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,st(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Fs{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(!!this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!it(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Zr({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,st(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function oe(){const{dragDropManager:t}=Hn(Wr);return v(t!=null,"Expected drag drop context"),t}function Ws(t,e){const r=oe(),n=C(()=>new qs(r.getBackend()),[r]);return G(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),G(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Vs(){const t=oe();return C(()=>new Rs(t),[t])}class js{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n!=null?n:null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:s}=n;return s?s(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function Gs(t,e,r){const n=C(()=>new js(t,e,r),[e,r]);return $(()=>{n.spec=t},[t]),n}function Ys(t){return C(()=>{const e=t.type;return v(e!=null,"spec.type must be defined"),e},[t])}function Xs(t,e,r){const n=oe(),i=Gs(t,e,r),s=Ys(t);G(function(){if(s!=null){const[c,u]=Bs(s,i,n);return e.receiveHandlerId(c),r.receiveHandlerId(c),u}},[n,e,r,i,s])}function en(t,e){const r=Jr(t,e);v(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Vs(),i=Ws(r.options,r.previewOptions);return Xs(r,n,i),[Qr(r.collect,n,i),Ns(i),ks(i)]}function zs(t){return C(()=>t.hooks.dropTarget(),[t])}function Ks(t){const e=oe(),r=C(()=>new Fs(e.getBackend()),[e]);return G(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function Qs(){const t=oe();return C(()=>new Ls(t),[t])}function Js(t){const{accept:e}=t;return C(()=>(v(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Zs{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function eo(t,e){const r=C(()=>new Zs(t,e),[e]);return $(()=>{r.spec=t},[t]),r}function to(t,e,r){const n=oe(),i=eo(t,e),s=Js(t);G(function(){const[c,u]=Ms(s,i,n);return e.receiveHandlerId(c),r.receiveHandlerId(c),u},[n,e,i,r,s.map(o=>o.toString()).join("|")])}function ro(t,e){const r=Jr(t,e),n=Qs(),i=Ks(r.options);return to(r,n,i),[Qr(r.collect,n,i),zs(i)]}function tn(t){let e=null;return()=>(e==null&&(e=t()),e)}function no(t,e){return t.filter(r=>r!==e)}function io(t,e){const r=new Set,n=s=>r.add(s);t.forEach(n),e.forEach(n);const i=[];return r.forEach(s=>i.push(s)),i}class so{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=io(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=no(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class oo{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const rn="__NATIVE_FILE__",nn="__NATIVE_URL__",sn="__NATIVE_TEXT__",on="__NATIVE_HTML__",ir=Object.freeze(Object.defineProperty({__proto__:null,FILE:rn,URL:nn,TEXT:sn,HTML:on},Symbol.toStringTag,{value:"Module"}));function Xe(t,e,r){const n=e.reduce((i,s)=>i||t.getData(s),"");return n!=null?n:r}const ot={[rn]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[on]:{exposeProperties:{html:(t,e)=>Xe(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[nn]:{exposeProperties:{urls:(t,e)=>Xe(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[sn]:{exposeProperties:{text:(t,e)=>Xe(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function ao(t,e){const r=ot[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new oo(r);return n.loadDataTransfer(e),n}function ze(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(ot).filter(r=>{const n=ot[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const co=tn(()=>/firefox/i.test(navigator.userAgent)),an=tn(()=>Boolean(window.safari));class sr{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:s,c3s:o}=this;let c=r.length-1;if(e===r[c])return n[c];let u=0,l=o.length-1,a;for(;u<=l;){a=Math.floor(.5*(u+l));const d=r[a];if(d<e)u=a+1;else if(d>e)l=a-1;else return n[a]}c=Math.max(0,l);const g=e-r[c],h=g*g;return n[c]+i[c]*g+s[c]*h+o[c]*g*h}constructor(e,r){const{length:n}=e,i=[];for(let d=0;d<n;d++)i.push(d);i.sort((d,f)=>e[d]<e[f]?-1:1);const s=[],o=[];let c,u;for(let d=0;d<n-1;d++)c=e[d+1]-e[d],u=r[d+1]-r[d],s.push(c),o.push(u/c);const l=[o[0]];for(let d=0;d<s.length-1;d++){const f=o[d],y=o[d+1];if(f*y<=0)l.push(0);else{c=s[d];const m=s[d+1],S=c+m;l.push(3*S/((S+m)/f+(S+c)/y))}}l.push(o[o.length-1]);const a=[],g=[];let h;for(let d=0;d<l.length-1;d++){h=o[d];const f=l[d],y=1/s[d],m=f+l[d+1]-h-h;a.push((h-f-m)*y),g.push(m*y*y)}this.xs=e,this.ys=r,this.c1s=l,this.c2s=a,this.c3s=g}}const uo=1;function cn(t){const e=t.nodeType===uo?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function ve(t){return{x:t.clientX,y:t.clientY}}function lo(t){var e;return t.nodeName==="IMG"&&(co()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function ho(t,e,r,n){let i=t?e.width:r,s=t?e.height:n;return an()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function fo(t,e,r,n,i){const s=lo(e),c=cn(s?t:e),u={x:r.x-c.x,y:r.y-c.y},{offsetWidth:l,offsetHeight:a}=t,{anchorX:g,anchorY:h}=n,{dragPreviewWidth:d,dragPreviewHeight:f}=ho(s,e,l,a),y=()=>{let T=new sr([0,.5,1],[u.y,u.y/a*f,u.y+f-a]).interpolate(h);return an()&&s&&(T+=(window.devicePixelRatio-1)*f),T},m=()=>new sr([0,.5,1],[u.x,u.x/l*d,u.x+d-l]).interpolate(g),{offsetX:S,offsetY:w}=i,I=S===0||S,z=w===0||w;return{x:I?S:m(),y:z?w:y()}}class po{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function go(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){go(t,i,r[i])})}return t}class mo{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",s),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",s)}}addEventListeners(e){!e.addEventListener||(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){!e.removeEventListener||(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return or({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return or({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ir).some(r=>ir[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=ao(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&cn(s)||null},this.endDragNativeItem=()=>{!this.isDraggingNativeItem()||(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>Boolean(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=ve(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:c}=i,u=ze(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const a=this.monitor.getSourceId(),g=this.sourceNodes.get(a),h=this.sourcePreviewNodes.get(a)||g;if(h){const{anchorX:d,anchorY:f,offsetX:y,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),I=fo(g,h,o,{anchorX:d,anchorY:f},{offsetX:y,offsetY:m});c.setDragImage(h,I.x,I.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(c&&!c.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:c}=i,u=ze(c);u&&this.beginDragNativeItem(u,c)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:ve(i)}),s.some(c=>this.monitor.canDropOnTarget(c))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=ve(i),this.scheduleHover(s),(s||[]).some(c=>this.monitor.canDropOnTarget(c))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else ze(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:ve(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new po(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new so(this.isNodeInDocument)}}const _o=function(e,r,n){return new mo(e,r,n)},H=Object.create(null);H.open="0";H.close="1";H.ping="2";H.pong="3";H.message="4";H.upgrade="5";H.noop="6";const Te=Object.create(null);Object.keys(H).forEach(t=>{Te[H[t]]=t});const yo={type:"error",data:"parser error"},vo=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bo=typeof ArrayBuffer=="function",So=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,un=({type:t,data:e},r,n)=>vo&&e instanceof Blob?r?n(e):ar(e,n):bo&&(e instanceof ArrayBuffer||So(e))?r?n(e):ar(new Blob([e]),n):n(H[t]+(e||"")),ar=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+n)},r.readAsDataURL(t)},cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ue=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<cr.length;t++)ue[cr.charCodeAt(t)]=t;const wo=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,c,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),a=new Uint8Array(l);for(n=0;n<r;n+=4)s=ue[t.charCodeAt(n)],o=ue[t.charCodeAt(n+1)],c=ue[t.charCodeAt(n+2)],u=ue[t.charCodeAt(n+3)],a[i++]=s<<2|o>>4,a[i++]=(o&15)<<4|c>>2,a[i++]=(c&3)<<6|u&63;return l},Oo=typeof ArrayBuffer=="function",ln=(t,e)=>{if(typeof t!="string")return{type:"message",data:hn(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Do(t.substring(1),e)}:Te[r]?t.length>1?{type:Te[r],data:t.substring(1)}:{type:Te[r]}:yo},Do=(t,e)=>{if(Oo){const r=wo(t);return hn(r,e)}else return{base64:!0,data:t}},hn=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},dn=String.fromCharCode(30),To=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,o)=>{un(s,!1,c=>{n[o]=c,++i===r&&e(n.join(dn))})})},Eo=(t,e)=>{const r=t.split(dn),n=[];for(let i=0;i<r.length;i++){const s=ln(r[i],e);if(n.push(s),s.type==="error")break}return n},fn=4;function O(t){if(t)return Co(t)}function Co(t){for(var e in O.prototype)t[e]=O.prototype[e];return t}O.prototype.on=O.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};O.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};O.prototype.off=O.prototype.removeListener=O.prototype.removeAllListeners=O.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};O.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};O.prototype.emitReserved=O.prototype.emit;O.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};O.prototype.hasListeners=function(t){return!!this.listeners(t).length};const F=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function pn(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Io=setTimeout,Po=clearTimeout;function Ue(t,e){e.useNativeTimers?(t.setTimeoutFn=Io.bind(F),t.clearTimeoutFn=Po.bind(F)):(t.setTimeoutFn=setTimeout.bind(F),t.clearTimeoutFn=clearTimeout.bind(F))}const xo=1.33;function Ao(t){return typeof t=="string"?No(t):Math.ceil((t.byteLength||t.size)*xo)}function No(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}class ko extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class gn extends O{constructor(e){super(),this.writable=!1,Ue(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new ko(e,r,n)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=ln(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const mn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),at=64,Ro={};let ur=0,be=0,lr;function hr(t){let e="";do e=mn[t%at]+e,t=Math.floor(t/at);while(t>0);return e}function _n(){const t=hr(+new Date);return t!==lr?(ur=0,lr=t):t+"."+hr(ur++)}for(;be<at;be++)Ro[mn[be]]=be;function yn(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Lo(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}let vn=!1;try{vn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Mo=vn;function bn(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Mo))return new XMLHttpRequest}catch{}if(!e)try{return new F[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Bo(){}const Ho=function(){return new bn({xdomain:!1}).responseType!=null}();class Uo extends gn{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const r=e&&e.forceBase64;this.supportsBinary=Ho&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Eo(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,To(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=_n()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=yn(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new B(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class B extends O{constructor(e,r){super(),Ue(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=pn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new bn(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=B.requestsCount++,B.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Bo,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete B.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}B.requestsCount=0;B.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",dr);else if(typeof addEventListener=="function"){const t="onpagehide"in F?"pagehide":"unload";addEventListener(t,dr,!1)}}function dr(){for(let t in B.requests)B.requests.hasOwnProperty(t)&&B.requests[t].abort()}const $o=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Se=F.WebSocket||F.MozWebSocket,fr=!0,qo="arraybuffer",pr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Fo extends gn{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=pr?{}:pn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=fr&&!pr?r?new Se(e,r):new Se(e):new Se(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||qo,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;un(n,this.supportsBinary,s=>{const o={};try{fr&&this.ws.send(s)}catch{}i&&$o(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=_n()),this.supportsBinary||(e.b64=1);const i=yn(e),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!Se}}const Wo={websocket:Fo,polling:Uo},Vo=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,jo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ct(t){const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=Vo.exec(t||""),s={},o=14;for(;o--;)s[jo[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Go(s,s.path),s.queryKey=Yo(s,s.query),s}function Go(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function Yo(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}class q extends O{constructor(e,r={}){super(),e&&typeof e=="object"&&(r=e,e=null),e?(e=ct(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=ct(r.host).host),Ue(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Lo(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=fn,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Wo[e](n)}open(){let e;if(this.opts.rememberUpgrade&&q.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;q.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",g=>{if(!n)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;q.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(a(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function s(){n||(n=!0,a(),r.close(),r=null)}const o=g=>{const h=new Error("probe error: "+g);h.transport=r.name,s(),this.emitReserved("upgradeError",h)};function c(){o("transport closed")}function u(){o("socket closed")}function l(g){r&&g.name!==r.name&&s()}const a=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",c),this.off("close",u),this.off("upgrading",l)};r.once("open",i),r.once("error",o),r.once("close",c),this.once("close",u),this.once("upgrading",l),r.open()}onOpen(){if(this.readyState="open",q.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Ao(i)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){q.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}q.protocol=fn;function Xo(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=ct(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const zo=typeof ArrayBuffer=="function",Ko=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Sn=Object.prototype.toString,Qo=typeof Blob=="function"||typeof Blob<"u"&&Sn.call(Blob)==="[object BlobConstructor]",Jo=typeof File=="function"||typeof File<"u"&&Sn.call(File)==="[object FileConstructor]";function Dt(t){return zo&&(t instanceof ArrayBuffer||Ko(t))||Qo&&t instanceof Blob||Jo&&t instanceof File}function Ee(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Ee(t[r]))return!0;return!1}if(Dt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ee(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Ee(t[r]))return!0;return!1}function Zo(t){const e=[],r=t.data,n=t;return n.data=ut(r,e),n.attachments=e.length,{packet:n,buffers:e}}function ut(t,e){if(!t)return t;if(Dt(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=ut(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=ut(t[n],e));return r}return t}function ea(t,e){return t.data=lt(t.data,e),t.attachments=void 0,t}function lt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=lt(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=lt(t[r],e));return t}const ta=5;var b;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(b||(b={}));class ra{constructor(e){this.replacer=e}encode(e){return(e.type===b.EVENT||e.type===b.ACK)&&Ee(e)?(e.type=e.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===b.BINARY_EVENT||e.type===b.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Zo(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class Tt extends O{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e),r.type===b.BINARY_EVENT||r.type===b.BINARY_ACK?(this.reconstructor=new na(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Dt(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(b[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===b.BINARY_EVENT||n.type===b.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(Tt.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case b.CONNECT:return typeof r=="object";case b.DISCONNECT:return r===void 0;case b.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case b.EVENT:case b.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case b.ACK:case b.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class na{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=ea(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ia=Object.freeze(Object.defineProperty({__proto__:null,protocol:ta,get PacketType(){return b},Encoder:ra,Decoder:Tt},Symbol.toStringTag,{value:"Module"}));function k(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const sa=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wn extends O{constructor(e,r,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[k(e,"open",this.onopen.bind(this)),k(e,"packet",this.onpacket.bind(this)),k(e,"error",this.onerror.bind(this)),k(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(sa.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');r.unshift(e);const n={type:b.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const o=this.ids++,c=r.pop();this._registerAckCallback(o,c),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){const n=this.flags.timeout;if(n===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);r.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(i),r.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:b.CONNECT,data:e})}):this.packet({type:b.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case b.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.EVENT:case b.BINARY_EVENT:this.onevent(e);break;case b.ACK:case b.BINARY_ACK:this.onack(e);break;case b.DISCONNECT:this.ondisconnect();break;case b.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:b.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:b.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ae(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ae.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ae.prototype.reset=function(){this.attempts=0};ae.prototype.setMin=function(t){this.ms=t};ae.prototype.setMax=function(t){this.max=t};ae.prototype.setJitter=function(t){this.jitter=t};class ht extends O{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ue(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ae({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||ia;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new q(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=k(r,"open",function(){n.onopen(),e&&e()}),s=k(r,"error",o=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",o),e?e(o):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const c=this.setTimeoutFn(()=>{i(),r.close(),r.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(k(e,"ping",this.onping.bind(this)),k(e,"data",this.ondata.bind(this)),k(e,"error",this.onerror.bind(this)),k(e,"close",this.onclose.bind(this)),k(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n||(n=new wn(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ce={};function Ce(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Xo(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=ce[i]&&s in ce[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return c?u=new ht(n,e):(ce[i]||(ce[i]=new ht(n,e)),u=ce[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(Ce,{Manager:ht,Socket:wn,io:Ce,connect:Ce});const P={place:0,shoot:1,end:2};class oa{constructor(e){this.room=e,this.init()}init(){this.playerId="",this.playerBoard=[],this.enemyBoard=[],this.ships=[],this.shots=[],this.playerTurn=!0,this.state=P.place,this.player="",this.placed=!1,this.sunkenShips=[]}updateGame({id:e,playerBoard:r,enemyBoard:n,ships:i,shots:s,turn:o,state:c,player:u}){this.playerId=e,this.player=u,this.playerBoard=r.board,this.enemyBoard=n.board,this.ships=i,this.shots=s,this.playerTurn=o,this.state=c}shipSunk(e){this.sunkenShips=e}getSunkenShip(e,r){const n=this.sunkenShips.map(o=>(o.player!==this.player&&(o.pos={x:100,y:100}),o)).findIndex(o=>o.parts.some(c=>e===o.pos.x+c.x&&r===o.pos.y+c.y));if(n===-1)return null;const i=this.sunkenShips[n],s=i.parts.find(o=>e===i.pos.x+o.x&&r===i.pos.y+o.y);return{index:n,part:s}}getShip(e,r){const n=this.ships.findIndex(o=>o.parts.some(c=>e===o.pos.x+c.x&&r===o.pos.y+c.y));if(n===-1)return null;const i=this.ships[n],s=i.parts.find(o=>e===i.pos.x+o.x&&r===i.pos.y+o.y);return{index:n,part:s}}}const Ne="/battleship/assets/parts.67a55e7d.png",dt=({hit:t,ship:e,drag:r=!1})=>{var s,o,c,u;const[{_isDragging:n},i]=en({type:"ship",item:{index:e.index},collect:l=>({isDragging:l.isDragging()})});return p("div",{class:`ship ${t?"hit":""}`,ref:r?i:null,children:p("div",{class:"tile",style:{mask:`url(${Ne}) left center`,WebkitMask:`url(${Ne}) left center`,maskPosition:`${-50*((s=e.part.sprite)==null?void 0:s.x)}px ${-50*((o=e.part.sprite)==null?void 0:o.y)}px`,WebkitMaskPosition:`${-50*((c=e.part.sprite)==null?void 0:c.x)}px ${-50*((u=e.part.sprite)==null?void 0:u.y)}px`}})})},gr=({hit:t,ship:e})=>e&&t?p(dt,{hit:t,ship:e}):p("div",{class:`marker ${t?"hit":""}`,children:p("div",{class:"tile",style:{mask:`url(${Ne}) left center`,WebkitMask:`url(${Ne}) left center`,maskPosition:`${-50*3}px ${-50*3}px`,WebkitMaskPosition:`${-50*3}px ${-50*3}px`}})}),On=({tile:t,onClick:e,onDrop:r,droppable:n,x:i,y:s,game:o})=>{const[{isOver:c},u]=ro({accept:"ship",drop:a=>r(a,i,s),collect:a=>({isOver:a.isOver()})});return p("div",{class:"boardSquare",ref:n?u:null,onClick:e,children:p("div",{children:[(a=>{switch(a){case 1:return p(dt,{draggable:!0,ship:o.getShip(i,s),drag:n});case 2:return p(gr,{hit:!1,ship:o.getSunkenShip(i,s)});case 3:return p(gr,{hit:!0,ship:o.getSunkenShip(i,s)});case 4:return p(dt,{hit:!0,ship:o.getShip(i,s),drag:!1});default:return p(E,{})}})(t),c&&"x"]})})},aa=(t,e,r)=>{t.emit("shoot",{pos:r,playerId:t.id,room:e})},ca=(t,e,r,n)=>{t.emit("place",{shipIndex:n,pos:r,playerId:t.id,room:e})},ua=(t,e)=>{t.emit("endPlace",{playerId:t.id,room:e})},la=(t,e)=>{t.emit("rematch",{playerId:t.id,room:e})},ha=Y(["socket","room"],ie)(({board:t,game:e,socket:r,room:n})=>{var s;const i=(o,c)=>p(On,{onClick:l=>{e.state===P.shoot&&aa(r,n,{x:o,y:c})},x:o,y:c,game:e,droppable:e.state===P.place,onDrop:()=>{},tile:t[c][o]},`${o}-${c}`);return t.length===0?p(E,{}):p("div",{class:`board enemyBoard ${e.state===P.place?"smallBoard":"bigBoard"}`,style:{gridTemplate:`repeat(${(s=t[0])==null?void 0:s.length}, 1fr) / repeat(${t.length}, 1fr)`},children:t.map((o,c)=>o.map((u,l)=>i(l,c)))})}),da=Y(["socket","room"],ie)(({board:t,game:e,socket:r,room:n})=>{var s;const i=(o,c)=>{const u=(l,a,g)=>{e.state===P.place&&ca(r,n,{x:a,y:g},l.index)};return p(On,{onClick:()=>{},x:o,y:c,game:e,droppable:e.state===P.place,onDrop:u,tile:t[c][o]},`${o}-${c}`)};return t.length===0?p(E,{}):p("div",{class:`board playerBoard ${e.state===P.place?"bigBoard":"smallBoard"}`,style:{gridTemplate:`repeat(${(s=t[0])==null?void 0:s.length}, 1fr) / repeat(${t.length}, 1fr)`},children:t.map((o,c)=>o.map((u,l)=>i(l,c)))})}),fa=({game:t})=>t?p("div",{children:p("div",{class:"boardWrapper",children:[p(da,{game:t,board:t.playerBoard}),p(ha,{game:t,board:t.enemyBoard})]})}):p(E,{}),pa="/battleship/assets/ships.411f295e.png",ga=({index:t,ship:e})=>{const[{_isDragging:r},n]=en({type:"ship",item:{index:t},collect:i=>({isDragging:i.isDragging()})});return p("div",{ref:n,children:p("div",{class:"shipDraggable",style:{background:`url(${pa}) left center`,backgroundPosition:`${-e.img.x}px ${-e.img.y}px`,width:`${e.img.width}px`,height:`${e.img.height}px`}})})},ma=Y(["socket","room"],ie)(({socket:t,room:e,ships:r})=>p("div",{class:"hand",children:[p("div",{children:r.map((n,i)=>{if(!n.placed)return p(ga,{draggable:!0,index:i,ship:n})})}),p("button",{onClick:()=>ua(t,e),children:"end turn"})]})),ft="/battleship/assets/player1.24e1b056.png",pt="/battleship/assets/player2.e5ecd3eb.png",mr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAleSURBVHgB7Z2Jddw2EIZHfilAriB0BXYqCFNB7Aq8qUBOBdpUYLsC2RXIroBUBbIrIFOBlQr+YAys9tBeJHEMwPnew9P5drnAcADOeUEFAuDSfKnd+NWMV2ZcusE8mNG7r9/NaHlcXFw8kKLsYgSqNqPBeBoz3pKiMEYYFmZ08EenAjZjYDXUPcLRmVGRMh/Mgl8jHteklI1Z5EszbhCfW9iHAqU0nFCF3PpOca/CdR4XlBG8sGRNBylhs8QfpBzlGWWCEar3lF6omNpdi5I7sOYEabwj5SDit0LYx/3GjIpkwVb6F2qt308OW+GS5AkVw4d43RIPIFpjOW3VkWxYa/WkbCFdYy1JPnrW2oNYjZWJtmL0rLUHyRqrpjzgs9aClC0kC9aflA81KVtI3gp/0DowTzoPZit8TsojIjWWEapVxGcuXELDa7aQuhXm6Oh9ScojUgWrovzQrXADFSx/VKQ88gspRQAbJ8Zx+qw5ObSnpYSoYBUAbOLHB1qfTa/N71rz9U0qw63UrbCn/OgpAe5pdFOoVtSU0N0kVbBydI/0lIaaDj9FX1EipArWN8qPVDdDdeRvycw2IgXLhaHkpLXY8p7qZmhH/i0okn2FLeXDHSXCPf21B/78DyVCsmAlW6wR3FJa3pjxkdbnvNaMP1KaHCQ7ofl8wPFYObh3NIp0B7Eay9lfPpN8PqlQPUVj3qej2moPomPe3YJJ1lqqrQ6QQ16h1LNWT/aA3JPyBPF5he6sleyx+QhLFaoCMJrrA+TwgZSj5FZthlPta0rLN6OpfiPlKNlUm3GwITClH5HfW0sYlQhs8bVbxOcTCi66BlvRh+e1c5+Xi8zdmFHTnDAfeIl4LKlQzGercLri9A3mlIV05qRMge/amgrFzd+PM+eiw9zKZELrvI8Cw+esoTniBKzBeBrM5EyB8VUS63NePytzw7lgu5cOJ5LyzxVt99LhwU95/9IMe+lgfKHgj2aeTsbSjxIsJ7W/k72wfQ2QeMF6sgt2pxZqebDqoXH4tePBPuZf4/zD3u4Wo71phAB7aB+Ln2iTiQL15KLMyKk8UZG4NR3LPU0FtglSB/+8h3Z4SMqEdb2hKZgXuEJYOmjpn2RgvIF5/I6DeJ21OqhwJQF2Oxx6vBm/DSJuuzamg26LSYA96gxZp4rGMPCNfDJPi64AzNy/wunzFru2KhoDwvvdTpGsgMXccWu/wHbLPt4mG0w1E8E+qaWEP4huiYXwM9APVs2l1hiXAq5B8cQqgnRJMrhSrVUGK8H6nWSgXR4K4RmsQ7kiOajLpwBYY9Uki1e6HeYPC5aUbXDFKnZKyRgWLInaYUwAmiIIFiyJi6hbYeZoLx0lCLllQiuZwILVkzxmk9RQKixYEhcxxzrvygYsWN9JHj0pWcOC1ZIsek0Xyx8WrC8ki5YUUcCGMVdDPCLPXPZvS3LIoQR38cBGE9/A5hFy4/efX13sXGPGW5yKKkW6kORdpJfeLh5YWWgGrNn1qRcc8mKh0GzphGB8yl+HQ9oL6bXW9AxbZTSYnp3V4YhwpapM/AOaX5gMjC9ptMv9oTfg0/894qOx7omA/+ysZaw3GnchShTM/L+DXw5nWyGecC1JSUqgdX537A1ZuBqEgaV6QUpSYLOgQ3Da6A5blcRHbawVDfSgLgKzDq8RhvPskbDa6xOm0WBuxeiFg4C18s8K9GOnsBkL8+0LM/6i811APdlexdx+LWmPYiUuk6omOw3ETwCbcfM9uQK3GqUgG9hD9nvyz0OR5biV83CKIUQJqVZj3ucNR+qGiCD+qoI1Y1zIVIgwJWkxfkpsMK3m+z6mVVVWygH+gg86qI1S2QR+vCyvSVE2gY1saTAOddEpx8Fwa3xjhhZxUU6DtQuvOyFQ9aHXUAOpchSnjSpaF2rpyXpVtAyCoiiKoihKZJIe3mGD7leHw2rjTz3pIVEZAtatgBucB6ejscuhIkXZBcNrAhyynagxTnnUUL47i91ANZhogp6x3OJzhGJF/unNeGPOYFpWcg+wVvGXtD7DruAKjpxFc5fl3MHmrPlMGzuEVqhxYH1+PXfeu6zmD/GEasXshQvDBGqXTvwcIk0LYJ7QWR7q3Xz7KuRyA6kNspCur3QndlICgTA38b2PefSaTAFbNrCiNFRmXNNMQLgHo1cUJiVsHEizBe6johmA8HXMJiWy+tRYfPirKD3Fay2z6FcUvmsb182qaSTe7FiwFUYqSg/7Fl+U6mNEWNvgLi3X3KAReNFYkNVXuvSG5TXFm+t6rNbytRUuSBY1lcsVxWVUSpeXrRC2Wq4kO9KDUeHPqTDcNhi7ycKoufSlsaQZJy8LfTpMMc+j5nKyYAlewBKNpalu4JcD/9+LxpK6gCUKVkVpSLYVKsoWPgRLY9LjkWqufwz8/6IFq0SB7ykN/9FAJguWs3CLW8RCI0tTfabB7+vrjNWSLIIuAKzDnXv73eKp4/3e/f4qwBNzqJqhx2iTucfgv9HPVD5QADAu06iBx8YJsEIbk3SRpbCx1pKoySPw01foBh40GOI3LK0oJZDR+pfx6vKAjd/v4IcOHkKoEW+ul5QayGlY7k11I0xSyOT4fFgNGjpZpYOUUG+k11retBXCLt7kVsUIf66V4/9FnDvpGDV5AuHDrDtM1AgI171rQdJAuifEJXkC0zu6R7tm+BUu2dWPMb234VC8ZZUgblLI4f7Jw6554eGaO+SQm4l4wuUlD27juheIy5I8gPHNSlm4WevlEw0Cf600DnHre0IQPq1qF685fLACxjdHg8PnXf79rfu/IAIVvKIfbLNFTsny/QH+Nq4GrxZ2N8mDPfkeeB7KbQL79Fm5H3/6dYtpUAo/PaUf73AEsgYjnS3uTyqMKIF+Oz2luT/e0LuT/7+ldW/pnsKQ6vD6ggrjF4qIE4gFfw/bKaomG09d0dPitixMd2Q9+l8iedhTHWCLC6OOKlibGEH5QtqJs1g05n2bVAGLxUW7qmBt01Maiot21e5fG6BAc0MqVGNt4Ba3pbgU2X1DBespdxSXIGHUqdGtcAe3HXJcVwwTQE/WNtdTYajG2sFtSx8pDp9LFCpGNdYenNbi0kwVhYO9EcVZ3FeoxtqD01pcIjHUoXr1+socgdBkCqUAIDD9SykE+An7aaCt8JR9QECKfS7oU+EInObh4Lya7JPj5vbWk/X9tWZ8LdWccIr/AVcUjVRZInZ8AAAAAElFTkSuQmCC",_a=Y(["socket","room"],ie)(({socket:t,room:e,info:r})=>{const[n,i]=R(!1),[s,o]=R([]),c=()=>{i(!0),la(t,e)};return $(()=>{if(!!t)return t.on("pendingRematch",u=>{u!==""&&o(l=>{const a=[u,...l];return a.includes("player1")&&a.includes("player2")&&(i(!1),o([])),a})}),()=>{t.off("pendingRematch")}},[t]),p("div",{class:"gameOverModal",children:[p("h2",{children:r.text}),p("p",{children:r.text}),p("div",{children:[p("div",{children:[s.includes("player1")?p("img",{class:"rematch",src:ft,alt:"player1 rematch indicator"}):s.length===1?p("img",{class:"rematch loading",src:mr,alt:"loading indicator"}):p(E,{}),p("img",{src:r.player==="player1"?ft:pt,alt:`${r.player} indicator`}),s.includes("player2")?p("img",{class:"rematch",src:pt,alt:"player2 rematch indicator"}):s.length===1?p("img",{class:"rematch loading",src:mr,alt:"loading indicator"}):p(E,{})]}),p("button",{onClick:c,children:"Rematch"}),p("button",{onClick:()=>window.location.href="/",children:"Back to lobby"})]})]})}),ya="/battleship/assets/vs.b9f6a3d6.png",va=Y(["socket","room"],ie)(({socket:t,room:e,setRoom:r})=>{const[n,i]=R(!1),[s,o]=R(""),[c,u]=R([]),[l,a]=R(0),g=()=>{const f="abcdefghijklmnopqrstuvwxyz0123456789",y=Array.from("000000",()=>f[Math.floor(Math.random()*f.length)]).join("");r(y),t.emit("create",y)},h=f=>{f!==""&&(r(f),t.emit("create",f))};$(()=>{if(!!t)return t.on("games",f=>{u(f)}),t.on("joinedLobby",f=>{a(f)}),()=>{t.off("games"),t.off("joinedLobby")}},[t]);const d=f=>`${f>1?"ingame":"waiting"} - ${f} ${f>1?"players":"player"}`;return p("div",{class:"lobbyWrapper",children:l===0?p(E,{children:[p("div",{style:{display:"none"},children:[p("input",{type:"checkbox",name:"private",id:"private",onChange:f=>i(f.target.checked)}),p("label",{htmlFor:"private",children:"Private game"})]}),p("button",{onClick:g,children:"Quick host game"}),p("span",{children:". . ."}),p("div",{children:p("form",{onSubmit:f=>{f.preventDefault(),h(s)},children:[p("input",{type:"text",maxLength:20,placeholder:"lobby code...",onChange:f=>o(f.target.value)}),p("button",{type:"submit",children:"Host / join"})]})}),p("div",{children:c.map(f=>p("button",{disabled:f.players>1,onClick:()=>h(f.code),children:[f.code," ",p("span",{children:d(f.players)})]}))})]}):p(E,{children:[p("h1",{children:"Game code"}),p("p",{children:e}),p("div",{class:"players",children:[p("img",{src:ft,class:l<1?"disabled":"",alt:"player1 indicator"}),p("img",{class:"vs",src:ya,alt:"vs indicator"}),p("img",{src:pt,class:l<2?"disabled":"",alt:"player2 indicator"})]})]})})}),ba=Y(["socket","room"],ie)(({socket:t,room:e,setSocket:r})=>{var y;const[n]=ci(),[i,s]=R((y=t==null?void 0:t.connected)!=null?y:!1),[o,c]=R(!1),[u,l]=R({status:!1,info:{}}),[a,g]=R(null),[,h]=Rr(m=>m+1,0),d=m=>{switch(m){case P.place:return"Place phase";case P.shoot:return"Shoot phase";case P.end:return"End phase";default:return"Battleship"}},f=m=>m.state===P.shoot?m.playerTurn?"Your turn":"Enemy turn":m.placed?"Waiting for other player...":"";return $(()=>{const m=Ce(`http://${window.location.hostname}:3000`);return r(m),()=>m.close()},[]),$(()=>{if(!!t)return t.on("connect",()=>{s(!0),console.log("Connected",e,t.id)}),t.on("startGame",()=>{c(!0),l({status:!1,info:{}}),a==null||a.init()}),t.on("endGame",m=>{l({status:!0,info:m})}),t.on("disconnect",()=>{s(!1)}),t.on("updateBoard",m=>{a?a.updateGame(JSON.parse(m)):g(S=>{const w=new oa(e);return w.updateGame(JSON.parse(m)),w}),h()}),t.on("shipSunk",m=>{a&&a.shipSunk(JSON.parse(m)),h()}),t.on("endPlace",m=>{a&&a.player===m&&(a.placed=!0),h()}),()=>{t.off("connect"),t.off("startGame"),t.off("updateBoard"),t.off("endGame"),t.off("shipSunk"),t.off("endPlace"),t.off("disconnect")}},[t,a]),p(Es,{backend:_o,children:[p("div",{class:`gameWrapper ${(a==null?void 0:a.state)===P.place?"place":"shoot"}`,ref:n,children:[o&&(a==null?void 0:a.state)===P.place&&p(ma,{ships:a.ships}),o&&a&&p("div",{class:"game",children:[p("h1",{children:d(a==null?void 0:a.state)}),p("p",{children:f(a)}),p(fa,{game:a})]}),!o&&p("div",{class:"lobby",children:p(va,{})}),o&&a&&p("div",{class:"room",children:e})]}),(u==null?void 0:u.status)&&p(_a,{info:u.info})]})});mt(p(Nr,{store:Rn,children:p(ba,{})}),document.getElementById("app"));
